{"changed":true,"filter":false,"title":"head-details.html","tooltip":"/www/templates/head-details.html","value":"<ion-view>\n  <ion-nav-title>{{threadTitle}} : {{headOwner}}</ion-nav-title>\n  <!-- <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"goBack()\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n    </button>\n  </ion-nav-buttons> -->\n  <ion-content class=\"padding has-footer\" style=\"padding-left: 0px;padding-right: 0px;padding-top: 0px;\">\n\n    <div class=\"list\" style=\"margin-bottom:0px\">\n      <div class=\"item item-avatar\" style=\"border-bottom:none;\">\n          <img class=\"avatar\" ng-if=\"headAvatar==''||headAvatar=='null'||headAvatar==null\" ng-src=\"img/avatar.png\">\n         <img class=\"avatar\" ng-if=\"headAvatar!=''&&headAvatar!='null'&&headAvatar!=null\" ng-src=\"{{base_url}}{{headAvatar}}\">\n        <h3>{{headOwner}}</h3>\n        <p style=\"font-size:small;\">{{getHeads.created}}</p>\n      </div>\n\n      <div class=\"item item-body\" style=\"padding: 0px;border-top:none;\">\n        <div class=\"remove-first ShingoProL\"\" style=\"padding:0px 15px 10px 15px;margin:0;color:#000;white-space:pre-line;word-break:break-word;\">\n          <span content=\"linkify(getHeads.body)\" check-link></span>\n        </div>\n           <div class=\"item\" style=\"padding:0px;border-bottom:0px;\" ng-show=\"headUploads.non_image.length > 0 || headUploads.image.length > 0\">\n         <a class=\"item-list-detail\" style=\"padding: 0px;border: 0px;\">\n        \t <div ng-show=\"headUploads.non_image.length > 0\" prevent-href=\"true\">\n        \t   <p style=\"padding-left: 15px;font-size:18px;cursor:pointer\" ng-repeat=\"file in headUploads.non_image track by $index\" ng-click=\"redirectFile(file.path)\">{{file.name}}</p>\n        \t </div>\n          \t<div ng-show=\"headUploads.image.length == 1\" prevent-href=\"true\" style=\"width:100%;text-align:center;\">\n          \t\t<img ng-show=\"!stillUploading\" ng-repeat=\"upload in headUploads.image track by $index\" ng-src=\"{{base_url}}{{upload.path}}\" ng-click=\"showImages($index,'head',0)\" style=\"width:100%;height:auto;\"/>\n          \t\t<img ng-show=\"stillUploading\" ng-repeat=\"upload in headUploads.image track by $index\" ng-src=\"{{upload.path}}\" ng-click=\"showImages($index,'head',0)\" style=\"width:100%;height:auto;\"/>\n          \t</div>\n          \t<ion-scroll direction=\"x\" ng-show=\"headUploads.image.length > 1\" prevent-href=\"true\">\n          \t\t<img ng-show=\"!stillUploading\" ng-repeat=\"upload in headUploads.image track by $index\" ng-src=\"{{base_url}}{{upload.path}}\" ng-click=\"showImages($index,'head',0)\" style=\"width:auto;height:350px;\"/>\n          \t\t<img ng-show=\"stillUploading\" ng-repeat=\"upload in headUploads.image track by $index\" ng-src=\"{{upload.path}}\" ng-click=\"showImages($index,'head',0)\" style=\"width:auto;height:350px;\"/>\n          \t</ion-scroll>\n\n        </a>\n        </div>\n        <p style=\"padding-left: 15px;\">\n          <a ng-if=\"getHeads.user_id!=$root.user_id\" class=\"subdued\" style=\"float:right\" ng-click=\"updateLike(getHeads.id,getHeads.likes_count,getHeads.isUserLiked)\">\n            <span><i class=\"icon ion-thumbsup likes\" ng-class=\"{'active':getHeads.isUserLiked}\"></i></span>\n          </a>\n          <span ng-show=\"getHeads.likes.length > 0\" class=\"likedList\" prevent-href=\"true\" style=\"padding-top:0px !important;padding-right: 10px !important;\">\n            <a ng-click=\"showLikes(-1,-1,'head')\">\n              <span ng-if=\"getHeads.likes.length > 0 && !getHeads.isUserLiked\">{{getHeads.likes_count}} 人がいいね！と言っています</span>\n              <span ng-if=\"getHeads.likes.length > 1 && getHeads.isUserLiked\">あなたと {{getHeads.likes_count - 1}} 人がいいね！と言っています</span>\n            </a>\n          </span>\n          <!--<a class=\"subdued\" ng-click=\"updateLike(headLikes, getHeads.isUserLiked)\" ><span><i class=\"icon ion-thumbsup\" ng-class=\"{'active':getHeads.isUserLiked}\" style=\"font-size:25px;\"></i> {{headLikes}}</span></a>-->\n        </p>\n      </div>\n\n    </div>\n    <ion-list>\n      <ion-item ng-repeat=\"comment in comments.Comment | limitTo:numberOfItemsToDisplay track by $index\" style=\"padding: 0px;\">\n        <div class=\"comment-list\">\n\n           <img class=\"avatar\" ng-if=\"comment.User.avatar_img==''||comment.User.avatar_img=='null'||comment.User.avatar_img==null\" ng-src=\"img/avatar.png\">\n         <img class=\"avatar\" ng-if=\"comment.User.avatar_img!=''&&comment.User.avatar_img!='null'&&comment.User.avatar_img!=null\" ng-src=\"{{base_url}}{{comment.User.avatar_img}}\">\n          <div style=\"font-size:smaller;padding-top:15px;margin:0;\" ng-show=\"comment.user_id !=$root.user_id\">{{comment.User.username}}</div>\n          <div style=\"font-size:smaller;padding-top:15px;margin:0;\" ng-show=\"comment.user_id ==$root.user_id\">{{$root.user}}</div>\n          <p class=\"dateList\" style=\"margin-top: -25px;\"><span ng-show=\"comment.user_id==$root.user_id\" prevent-href=\"true\" style=\"\"><i class=\"icon ion-chevron-down\" style=\"font-size: 15px;color:#444;padding: 10px;\" ng-click=\"showCommentPopover($event,$index)\"></i></span></p>\n          <div style=\"padding-right:20px;color:#000;word-break:break-word\">\n            <span class=\"ShingoProL\" content=\"linkify(comment.body)\" check-link></span>\n          </div>\n          <div>\n            <div class=\"item item-list-detail\" style=\"padding: 0px;border: 0px;\">\n               <div ng-show=\"comment.non_image.length > 0\" prevent-href=\"true\">\n        \t   <p style=\"font-size:16px;cursor:pointer;padding-top:10px\" ng-repeat=\"file in comment.non_image track by $index\" ng-click=\"redirectFile(file.path)\">{{file.name}}</p>\n        \t </div>\n              <div direction=\"x\" ng-show=\"comment.image.length == 1\" prevent-href=\"true\">\n                <img ng-repeat=\"upload in comment.image track by $index\" ng-src=\"{{upload.loading?upload.path:base_url+upload.path}}\" ng-click=\"showImages({{$index}},'comment',{{$parent.$index}})\" class=\"image-list-thumb\" ng-style=\"{'opacity':upload.loading && typeof(upload.loading) !=='undefined'?'0.3':'1'}\"/>\n                <ion-spinner icon=\"ios\" ng-show=\"typeof(upload.loading)!=='undefined' && upload.loading\" class=\"img-spinner\"></ion-spinner>\n              </div>\n              <ion-scroll direction=\"x\" ng-show=\"comment.image.length > 1\" prevent-href=\"true\">\n                <img ng-repeat=\"upload in comment.image track by $index\" ng-src=\"{{upload.loading?upload.path:base_url+upload.path}}\" ng-click=\"showImages({{$index}},'comment',{{$parent.$index}})\" class=\"image-list-thumb\" ng-style=\"{'opacity':upload.loading && typeof(upload.loading) !=='undefined'?'0.3':'1'}\"/>\n                <ion-spinner icon=\"ios\" ng-show=\"typeof(upload.loading)!=='undefined' && upload.loading\" class=\"img-spinner\"></ion-spinner>\n              </ion-scroll>\n            </div>\n          </div>\n          <div style=\"width:100%;height:24px;padding-right:10px;bottom: 0;position: absolute;\">\n            <a class=\"subdued datecomment\">{{comment.created}}</a>\n            <a ng-if=\"comment.user_id!=$root.user_id\" class=\"subdued\" style=\"float:right\" ng-click=\"changeLike(comment.id,$index)\">\n              <span><i class=\"icon ion-thumbsup likes\" ng-class=\"{'active':comment.isUserLiked}\"></i></span>\n            </a>\n          </div>\n          <p ng-show=\"comment.likes.length > 0\" class=\"likedList\" prevent-href=\"true\" style=\"padding-top:0px !important;padding-right: 10px !important;\">\n              <a ng-click=\"showLikes(-1,$index,'comment')\">\n                <span ng-if=\"comment.likes.length > 0 && !comment.isUserLiked\">{{comment.likes_count}} 人がいいね！と言っています</span>\n                <span ng-if=\"comment.likes.length > 1 && comment.isUserLiked\">あなたと {{comment.likes_count - 1}} 人がいいね！と言っています</span>\n              </a>\n          </p>\n        </div>\n\n      </ion-item>\n\n    </ion-list>\n    <ion-infinite-scroll ng-if=\"numberOfItemsToDisplay < comments.Comment.length\" on-infinite=\"loadMore()\" distance=\"1%\"></ion-infinite-scroll>\n  </ion-content>\n\n  <ion-footer-bar align-title=\"left\" style=\"padding: 0px;height:auto;border-bottom:1px solid #ddd;\" keyboard-attach>\n    <div style=\"width:100%\">\n    <div class=\"item item-input-inset\" style=\"padding:0px\">\n        <i class=\"icon ion-ios-camera\" style=\"font-size: 35px;padding-left: 5px;color: rgba(68, 68, 68, 0.76);\" ng-click=\"loadImage()\"></i>\n      <label class=\"item-input-wrapper item-icon-left\" style=\"padding-left:5px;padding-right:0px;background-color: white;\">\n\n        <textarea rows=\"1\" auto-grow ng-model=\"newComment.body\" ng-Required=\"true\" placeholder=\"コメントを書く\" name=\"content\" style=\"width:100%;padding: 10px;border-radius:0px;border-left:1px solid #ddd;height:auto !important;\"></textarea>\n      </label>\n\n      <a ng-if=\"action=='add' || action==''\" style=\"padding: 5px 11px;background-color: rgba(68, 68, 68, 0.76);color: #fff;margin: 5px;border-radius:3px;\" ng-click=\"sendComment(comments.Head.id)\">送信</a>\n      <a ng-if=\"action=='edit'\" style=\"padding: 5px 11px;background-color: rgba(68, 68, 68, 0.76);color: #fff;margin: 5px;border-radius:3px;\" ng-click=\"editComment(comments.Head.id)\">送信</a>\n      <!-- <button ng-show=\"aaction=='add' || action==''\" class=\"button button-basic\" ng-click=\"sendComment(comments.Head.id)\">\n        Send\n      </button>\n      <button style=\"position: relative !important;\" ng-show=\"action=='edit'\" class=\"button button-basic\" ng-click=\"editComment(comments.Head.id)\">\n        Edit\n      </button> -->\n      </div>\n      <ion-scroll direction=\"x\" class=\"item\" ng-show=\"newComment.Uploads.length > 0 && action=='edit'\" style=\"padding: 0px;height:120px !important\">\n        <a ng-repeat=\"im in newComment.Uploads track by $index\" style=\"height:120px;display:inline-block;text-align:center;margin-right:4px;\">\n          <img ng-show=\"im.Upload.name\" ng-src=\"{{base_url}}{{im.Upload.path}}\" ng-click=\"setChosenImg(base_url+im.Upload);showImages($index,'comment',0);$scope.showChosenImage=-1;\" style=\"width:auto;max-height:120px;\">\n          <img ng-show=\"!im.Upload.name\" ng-src=\"{{im.Upload.path}}\" ng-click=\"setChosenImg($index);showImages($index,'comment',0);$scope.showChosenImage=-1;\" style=\"width:auto;max-height:120px;\">\n        </a>\n      </ion-scroll>\n      <!-- <div class=\"item\" ng-show=\"uploadedCommentimgs.length > 0 && (action=='add' || action=='')\" style=\"padding: 0px;border-top: 0px;\">\n        <a class=\"item-thumbnail\" ng-repeat=\"im in uploadedCommentimgs track by $index\">\n              <i ng-click=\"removeUploadedImg($index)\" class=\"icon ion-ios-close\" style=\"font-size: 20px;position: absolute;margin-left: 30px;\"></i>\n               <img ng-src=\"{{im}}\" style=\"width:45px;height:45px\">\n        </a>\n      </div>-->\n      <ion-scroll direction=\"x\" class=\"item\" ng-show=\"uploadedCommentimgs.length > 0 && (action=='add' || action=='')\" style=\"padding: 0px;height:120px !important\">\n        <a ng-repeat=\"im in uploadedCommentimgs track by $index\" style=\"height:120px;display:inline-block;text-align:center;margin-right:4px;\">\n          <img ng-src=\"{{im}}\" ng-click=\"setChosenImg($index);showImages({{$index}});$scope.showChosenImage=-1;\" style=\"width:auto;max-height:120px;\" />\n        </a>\n      </ion-scroll>\n    </div>\n  </ion-footer-bar>\n\n</ion-view>\n","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":1166,"scrollleft":0,"selection":{"start":{"row":130,"column":28},"end":{"row":130,"column":47},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":96,"state":"start","mode":"ace/mode/html"}},"timestamp":1496381120458}