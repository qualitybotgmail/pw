!function(t){"use strict";"function"==typeof define&&define.amd?define(["load-image"],t):t(window.loadImage)}(function(t){"use strict";var e=t.hasCanvasOption,a=t.transformCoordinates,o=t.getTransformedOptions;t.hasCanvasOption=function(a){return e.call(t,a)||a.orientation},t.transformCoordinates=function(e,o){a.call(t,e,o);var r=e.getContext("2d"),i=e.width,n=e.height,s=o.orientation;if(s&&!(s>8))switch(s>4&&(e.width=n,e.height=i),s){case 2:r.translate(i,0),r.scale(-1,1);break;case 3:r.translate(i,n),r.rotate(Math.PI);break;case 4:r.translate(0,n),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-n);break;case 7:r.rotate(.5*Math.PI),r.translate(i,-n),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-i,0)}},t.getTransformedOptions=function(e,a){var r,i,n=o.call(t,e,a),s=n.orientation;if(!s||s>8||1===s)return n;r={};for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);switch(n.orientation){case 2:r.left=n.right,r.right=n.left;break;case 3:r.left=n.right,r.top=n.bottom,r.right=n.left,r.bottom=n.top;break;case 4:r.top=n.bottom,r.bottom=n.top;break;case 5:r.left=n.top,r.top=n.left,r.right=n.bottom,r.bottom=n.right;break;case 6:r.left=n.top,r.top=n.right,r.right=n.bottom,r.bottom=n.left;break;case 7:r.left=n.bottom,r.top=n.right,r.right=n.top,r.bottom=n.left;break;case 8:r.left=n.bottom,r.top=n.left,r.right=n.top,r.bottom=n.right}return n.orientation>4&&(r.maxWidth=n.maxHeight,r.maxHeight=n.maxWidth,r.minWidth=n.minHeight,r.minHeight=n.minWidth,r.sourceWidth=n.sourceHeight,r.sourceHeight=n.sourceWidth),r}});