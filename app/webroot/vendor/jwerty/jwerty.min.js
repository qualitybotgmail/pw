/*! my-project-name 2014-02-19 */
!function(a,b){function c(a,b){return null===a?"null"===b:void 0===a?"undefined"===b:a.is&&a instanceof i?"element"===b:Object.prototype.toString.call(a).toLowerCase().indexOf(b)>7}function d(a){var b,e,f,g,h,i,j,m,n;if(a instanceof d)return a;for(c(a,"array")||(a=String(a).replace(/\s/g,"").toLowerCase().match(/(?:\+,|[^,])+/g)),b=0,e=a.length;e>b;++b){for(c(a[b],"array")||(a[b]=String(a[b]).match(/(?:\+\/|[^\/])+/g)),i=[],f=a[b].length;f--;){for(j=a[b][f],h={jwertyCombo:String(j),shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1},c(j,"array")||(j=String(j).toLowerCase().match(/(?:(?:[^\+])+|\+\+|^\+$)/g)),g=j.length;g--;)"++"===j[g]&&(j[g]="+"),j[g]in l.mods?h[k[l.mods[j[g]]]]=!0:j[g]in l.keys?h.keyCode=l.keys[j[g]]:m=j[g].match(/^\[([^-]+\-?[^-]*)-([^-]+\-?[^-]*)\]$/);if(c(h.keyCode,"undefined"))if(m&&m[1]in l.keys&&m[2]in l.keys){for(m[2]=l.keys[m[2]],m[1]=l.keys[m[1]],n=m[1];n<m[2];++n)i.push({altKey:h.altKey,shiftKey:h.shiftKey,metaKey:h.metaKey,ctrlKey:h.ctrlKey,keyCode:n,jwertyCombo:String(j)});h.keyCode=n}else h.keyCode=0;i.push(h)}this[b]=i}return this.length=b,this}var e,f,g,h=a.document,i=a.jQuery||a.Zepto||a.ender||h,j="keydown";i===h?(e=function(a,b){return a?i.querySelector(a,b||i):i},f=function(a,b){a.addEventListener(j,b,!1)},g=function(a,b){var c,d=h.createEvent("Event");d.initEvent(j,!0,!0);for(c in b)d[c]=b[c];return(a||i).dispatchEvent(d)}):(e=function(a,b){return i(a||h,b)},f=function(a,b){i(a).bind(j+".jwerty",b)},g=function(a,b){i(a||h).trigger(i.Event(j,b))});for(var k={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"},l={mods:{"⇧":16,shift:16,"⌃":17,ctrl:17,"⌥":18,alt:18,option:18,"⌘":91,meta:91,cmd:91,"super":91,win:91},keys:{"⌫":8,backspace:8,"⇥":9,"⇆":9,tab:9,"↩":13,"return":13,enter:13,"⌅":13,pause:19,"pause-break":19,"⇪":20,caps:20,"caps-lock":20,"⎋":27,escape:27,esc:27,space:32,"↖":33,pgup:33,"page-up":33,"↘":34,pgdown:34,"page-down":34,"⇟":35,end:35,"⇞":36,home:36,ins:45,insert:45,del:46,"delete":46,"←":37,left:37,"arrow-left":37,"↑":38,up:38,"arrow-up":38,"→":39,right:39,"arrow-right":39,"↓":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,"num-.":110,"num-period":110,"num-dot":110,"num-full-stop":110,"num-delete":110,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostraphe:222}},m=47,n=0;++m<106;)l.keys[n]=m,l.keys["num-"+n]=m+48,++n;for(m=111,n=1;++m<136;)l.keys["f"+n]=m,++n;for(m=64;++m<91;)l.keys[String.fromCharCode(m).toLowerCase()]=m;var o=b.jwerty={event:function(a,b,e){if(c(b,"boolean")){var f=b;b=function(){return f}}a=new d(a);var g,h,i=0,j=a.length-1;return function(c){return(h=o.is(a,c,i))?j>i?void++i:(g=b.call(e||this,c,h),g===!1&&c.preventDefault(),void(i=0)):void(i=o.is(a,c)?1:0)}},is:function(a,b,c){a=new d(a),c=c||0,a=a[c],b=b.originalEvent||b;for(var e=a.length,f=!1;e--;){f=a[e].jwertyCombo;for(var g in a[e])"jwertyCombo"!==g&&b[g]!=a[e][g]&&(f=!1);if(f!==!1)return f}return f},key:function(b,d,g,h,i){var j=c(g,"element")||c(g,"string")?g:h,k=j===g?a:g,l=j===g?h:i;f(c(j,"element")?j:e(j,l),o.event(b,d,k))},fire:function(a,b,f,h){a=new d(a);var i=c(f,"number")?f:h;g(c(b,"element")?b:e(b,f),a[i||0][0])},KEYS:l}}(this,"undefined"!=typeof module&&module.exports?module.exports:this);