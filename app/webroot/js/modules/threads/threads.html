<style type="text/css">
    .thread-users span.comma:last-child {
        display: 'none';
    }
    .liked {
        font-weight: bolder;
        background: blue;
    }
    .badge-delete .badge {
        background-color: #d9534f!important;
    }
    .badge-edit .badge {
        background-color: #2a6496!important;
    }
    .badge-like,
    .badge-edit,
    .badge-delete,
    .add-member {
        cursor: pointer;
    }
    
</style>

<div class="panel colourable"  ng-if="thread.Thread" ng-repeat="thread in threads">
    <div class="panel-heading">
        <span class="panel-title">
            <div>
                <label class="lead">
                    <a ui-sref="app.thread({ id: thread.Thread.id })">
                        {{thread.Thread.title}}
                    </a>
                </label>
            </div>
            <span>
                <!--投稿メンバー-->
                <span class="thread-users" title="members">
                	<i class="glyphicon glyphicon-user"></i>
                	<span>:</span>
                	<span ng-if="!thread.User.length">
                		No Member/s
                	</span>
                	<span ng-repeat="u in thread.User" ng-if="thread.User.length">
                		{{u.username}}
                		{{$last ? '' : ', '}}
                	</span>
                </span>
            </span>
            <br>
            <span style="font-size:11px;">
                {{thread.Thread.created}}
            </span>
        </span>
        <div class="panel-heading-controls">
            <!--<button class="btn btn-sm btn-outline btn-warning">-->
            <!--    <span class="fa fa-thumbs-o-up"></span>-->
            <!--</button>-->
            <div class="btn-group btn-group-sm">
                <button class="btn btn-info dropdown-toggle" type="button" data-toggle="dropdown">
                  <span class="fa fa-cog"></span>&nbsp;<span class="fa fa-caret-down"></span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right">
                    <li><a role="button" ng-click="editThread($index, thread)" >編集</a></li>
                    <li><a role="button" ng-click="deleteThread($index, thread.Thread.id)">削除</a></li>
                </ul> <!-- / .dropdown-menu -->
            </div> <!-- / .btn-group -->
        </div> <!-- / .panel-heading-controls -->
    </div> <!-- / .panel-heading -->
</div> <!-- / .panel -->


<!--<div class="row" ng-if="threads.length">-->
<!--    <div class="col-md-12">-->
<!--        <div class="row" ng-repeat="thread in threads">-->
<!--            <h5 class="page-header">-->
<!--                <span>-->
<!--                    <a ui-sref="app.thread({ id: thread.Thread.id })">-->
<!--                        {{thread.Thread.title}}-->
<!--                    </a>-->
<!--                </span>-->
                
<!--                <span ng-if="thread.Owner.id == loginUser.id">-->
<!--                    <a class="badge-edit" title="edit thread" ng-click="editThread($index, thread)">-->
<!--                        <span class="badge">-->
<!--                            <i class="glyphicon glyphicon-pencil"></i>-->
<!--                        </span>-->
<!--                    </a>-->
<!--                </span>-->
<!--                <span ng-if="thread.Owner.id == loginUser.id">-->
<!--                    <a class="badge-delete" title="delete thread" ng-click="deleteThread($index, thread.Thread.id)">-->
<!--                        <span class="badge">-->
<!--                            <i class="glyphicon glyphicon-trash"></i>-->
<!--                        </span>-->
<!--                    </a>-->
<!--                </span>-->
<!--            </h5>-->
            <!--<p>-->
            <!--    {{thread.Thread.head}}-->
            <!--</p>-->
<!--            <p class="thread-users" title="members">-->
<!--                <i class="glyphicon glyphicon-user"></i>-->
<!--                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;-->
<!--                <span ng-if="!thread.User.length">-->
<!--                    No Member/s-->
<!--                </span>-->
<!--                <span ng-repeat="u in thread.User" ng-if="thread.User.length">-->
<!--                    {{u.username}}-->
<!--                    {{$last ? '' : ', '}}-->
<!--                </span>-->
<!--            </p>-->
<!--        </div>  -->
<!--    </div>-->
<!--</div>-->

<div ng-repeat="template in templates" ng-include="template"></div>